<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 1 Basics | 40 Days and 40 Nights</title>
  <meta name="description" content="An ad hoc course to learn R for bioinformatics, using the
COVID-19 epidemic as an excuse." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 1 Basics | 40 Days and 40 Nights" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An ad hoc course to learn R for bioinformatics, using the
COVID-19 epidemic as an excuse." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 1 Basics | 40 Days and 40 Nights" />
  
  <meta name="twitter:description" content="An ad hoc course to learn R for bioinformatics, using the
COVID-19 epidemic as an excuse." />
  

<meta name="author" content="Martin Morgan" />
<meta name="author" content="L. Shawn Matott" />


<meta name="date" content="2020-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="two.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QuaRantine</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Motivation</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-to-expect"><i class="fa fa-check"></i>What to expect</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="one.html"><a href="one.html"><i class="fa fa-check"></i><b>1</b> Basics</a><ul>
<li class="chapter" data-level="1.1" data-path="one.html"><a href="one.html#day-1-monday-zoom-orientation"><i class="fa fa-check"></i><b>1.1</b> Day 1 (Monday) Zoom orientation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="one.html"><a href="one.html#logistics-10-minutes"><i class="fa fa-check"></i><b>1.1.1</b> Logistics (10 minutes)</a></li>
<li class="chapter" data-level="1.1.2" data-path="one.html"><a href="one.html#installing-r-and-rstudio-25-minutes-shawn"><i class="fa fa-check"></i><b>1.1.2</b> Installing <em>R</em> and <em>RStudio</em> (25 minutes, Shawn)</a></li>
<li class="chapter" data-level="1.1.3" data-path="one.html"><a href="one.html#basics-of-r-25-minutes"><i class="fa fa-check"></i><b>1.1.3</b> Basics of <em>R</em> (25 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="one.html"><a href="one.html#day-2-vectors-and-variables"><i class="fa fa-check"></i><b>1.2</b> Day 2: Vectors and variables</a></li>
<li class="chapter" data-level="1.3" data-path="one.html"><a href="one.html#day-3-factor-date-and-na"><i class="fa fa-check"></i><b>1.3</b> Day 3: <code>factor()</code>, <code>Date()</code>, and <code>NA</code></a></li>
<li class="chapter" data-level="1.4" data-path="one.html"><a href="one.html#day-4-working-with-variables"><i class="fa fa-check"></i><b>1.4</b> Day 4: Working with variables</a></li>
<li class="chapter" data-level="1.5" data-path="one.html"><a href="one.html#day-5-friday-zoom-check-in"><i class="fa fa-check"></i><b>1.5</b> Day 5 (Friday) Zoom check-in</a><ul>
<li class="chapter" data-level="1.5.1" data-path="one.html"><a href="one.html#logistics"><i class="fa fa-check"></i><b>1.5.1</b> Logistics</a></li>
<li class="chapter" data-level="1.5.2" data-path="one.html"><a href="one.html#review-and-trouble-shoot-25-minutes-martin"><i class="fa fa-check"></i><b>1.5.2</b> Review and trouble shoot (25 minutes; Martin)</a></li>
<li class="chapter" data-level="1.5.3" data-path="one.html"><a href="one.html#weekend-activities-25-minutes-shawn"><i class="fa fa-check"></i><b>1.5.3</b> Weekend activities (25 minutes; Shawn)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="one.html"><a href="one.html#day-6-r-scripts"><i class="fa fa-check"></i><b>1.6</b> Day 6: <em>R</em> scripts</a></li>
<li class="chapter" data-level="1.7" data-path="one.html"><a href="one.html#day-7-saving-data"><i class="fa fa-check"></i><b>1.7</b> Day 7: Saving data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="two.html"><a href="two.html"><i class="fa fa-check"></i><b>2</b> The data frame</a><ul>
<li class="chapter" data-level="2.1" data-path="two.html"><a href="two.html#day-8-monday-zoom-check-in"><i class="fa fa-check"></i><b>2.1</b> Day 8 (Monday) Zoom check-in</a><ul>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#logistics-1"><i class="fa fa-check"></i>Logistics</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#review-and-troubleshoot-15-minutes"><i class="fa fa-check"></i>Review and troubleshoot (15 minutes)</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#the-data-frame-40-minutes"><i class="fa fa-check"></i>The data frame (40 minutes)</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#this-weeks-activities-5-minutes"><i class="fa fa-check"></i>This week’s activities (5 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="two.html"><a href="two.html#day-9-creation-and-manipulation"><i class="fa fa-check"></i><b>2.2</b> Day 9: Creation and manipulation</a><ul>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#creation"><i class="fa fa-check"></i>Creation</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#column-selection"><i class="fa fa-check"></i>Column selection</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#adding-or-updating-columns"><i class="fa fa-check"></i>Adding or updating columns</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#reading-and-writing"><i class="fa fa-check"></i>Reading and writing</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#reading-from-a-remote-file"><i class="fa fa-check"></i>Reading from a remote file (!)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="two.html"><a href="two.html#day-10-subset-with-and-within"><i class="fa fa-check"></i><b>2.3</b> Day 10: <code>subset()</code>, <code>with()</code>, and <code>within()</code></a><ul>
<li><a href="two.html#subset"><code>subset()</code></a></li>
<li><a href="two.html#with"><code>with()</code></a></li>
<li><a href="two.html#within"><code>within()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="two.html"><a href="two.html#day-11-aggregate-and-an-initial-work-flow"><i class="fa fa-check"></i><b>2.4</b> Day 11: <code>aggregate()</code> and an initial work flow</a><ul>
<li><a href="two.html#aggregate-for-summarizing-columns-by-group"><code>aggregate()</code> for summarizing columns by group</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#an-initial-work-flow"><i class="fa fa-check"></i>An initial work flow</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="two.html"><a href="two.html#day-12-friday-zoom-check-in"><i class="fa fa-check"></i><b>2.5</b> Day 12 (Friday) Zoom check-in</a><ul>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#review-and-troubleshoot-20-minutes"><i class="fa fa-check"></i>Review and troubleshoot (20 minutes)</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#user-defined-functions"><i class="fa fa-check"></i>User-defined functions</a></li>
<li class="chapter" data-level="" data-path="two.html"><a href="two.html#plotting-data"><i class="fa fa-check"></i>Plotting data</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="two.html"><a href="two.html#day-13-basic-visualization"><i class="fa fa-check"></i><b>2.6</b> Day 13: Basic visualization</a></li>
<li class="chapter" data-level="2.7" data-path="two.html"><a href="two.html#day-14-functions"><i class="fa fa-check"></i><b>2.7</b> Day 14: Functions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="three.html"><a href="three.html"><i class="fa fa-check"></i><b>3</b> Packages and the ‘tidyverse’</a><ul>
<li class="chapter" data-level="3.1" data-path="three.html"><a href="three.html#day-15-monday-zoom-check-in"><i class="fa fa-check"></i><b>3.1</b> Day 15 (Monday) Zoom check-in</a><ul>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#review-and-troubleshoot-15-minutes-1"><i class="fa fa-check"></i>Review and troubleshoot (15 minutes)</a></li>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#packages-20-minutes"><i class="fa fa-check"></i>Packages (20 minutes)</a></li>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#the-tidyverse-of-packages-20-minutes"><i class="fa fa-check"></i>The ‘tidyverse’ of packages (20 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="three.html"><a href="three.html#day-16-key-tidyverse-packages-readr-and-dplyr"><i class="fa fa-check"></i><b>3.2</b> Day 16 Key tidyverse packages: <span>readr</span> and <span>dplyr</span></a></li>
<li class="chapter" data-level="3.3" data-path="three.html"><a href="three.html#day-17-visualization-with-ggplot2"><i class="fa fa-check"></i><b>3.3</b> Day 17 Visualization with <span>ggplot2</span></a><ul>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#setup"><i class="fa fa-check"></i>Setup</a></li>
<li><a href="three.html#ggplot2-essentials"><span>ggplot2</span> essentials</a></li>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#covid-19-in-erie-county"><i class="fa fa-check"></i>COVID-19 in Erie county</a></li>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#covid-19-in-new-york-state"><i class="fa fa-check"></i>COVID-19 in New York State</a></li>
<li class="chapter" data-level="" data-path="three.html"><a href="three.html#covid-19-nationally"><i class="fa fa-check"></i>COVID-19 nationally</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="three.html"><a href="three.html#day-18-worldwide-covid-data"><i class="fa fa-check"></i><b>3.4</b> Day 18 Worldwide COVID data</a></li>
<li class="chapter" data-level="3.5" data-path="three.html"><a href="three.html#day-19-friday-zoom-check-in"><i class="fa fa-check"></i><b>3.5</b> Day 19 (Friday) Zoom check-in</a><ul>
<li class="chapter" data-level="3.5.1" data-path="three.html"><a href="three.html#logistics-2"><i class="fa fa-check"></i><b>3.5.1</b> Logistics</a></li>
<li class="chapter" data-level="3.5.2" data-path="three.html"><a href="three.html#review-and-trouble-shoot-40-minutes"><i class="fa fa-check"></i><b>3.5.2</b> Review and trouble shoot (40 minutes)</a></li>
<li class="chapter" data-level="3.5.3" data-path="three.html"><a href="three.html#weekend-activities-15-minutes"><i class="fa fa-check"></i><b>3.5.3</b> Weekend activities (15 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="three.html"><a href="three.html#day-20-exploring-the-course-of-pandemic-in-different-regions"><i class="fa fa-check"></i><b>3.6</b> Day 20 Exploring the course of pandemic in different regions</a></li>
<li class="chapter" data-level="3.7" data-path="three.html"><a href="three.html#day-21"><i class="fa fa-check"></i><b>3.7</b> Day 21</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="four.html"><a href="four.html"><i class="fa fa-check"></i><b>4</b> Machine learning</a><ul>
<li class="chapter" data-level="4.1" data-path="four.html"><a href="four.html#day-22-monday-zoom-check-in"><i class="fa fa-check"></i><b>4.1</b> Day 22 (Monday) Zoom check-in</a><ul>
<li class="chapter" data-level="4.1.1" data-path="four.html"><a href="four.html#a-machine-learning-primer"><i class="fa fa-check"></i><b>4.1.1</b> A Machine Learning Primer</a></li>
<li class="chapter" data-level="4.1.2" data-path="four.html"><a href="four.html#the-random-forest-algorithm"><i class="fa fa-check"></i><b>4.1.2</b> The Random Forest Algorithm</a></li>
<li class="chapter" data-level="4.1.3" data-path="four.html"><a href="four.html#a-covid-19-dataset-for-machine-learning"><i class="fa fa-check"></i><b>4.1.3</b> A COVID-19 Dataset for Machine Learning</a></li>
<li class="chapter" data-level="4.1.4" data-path="four.html"><a href="four.html#a-random-forest-example-using-covid-19-data"><i class="fa fa-check"></i><b>4.1.4</b> A Random Forest Example Using COVID-19 Data</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="four.html"><a href="four.html#day-23---support-vector-machines"><i class="fa fa-check"></i><b>4.2</b> Day 23 - Support Vector Machines</a><ul>
<li class="chapter" data-level="4.2.1" data-path="four.html"><a href="four.html#an-svm-example-using-covid-19"><i class="fa fa-check"></i><b>4.2.1</b> An SVM Example using COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="four.html"><a href="four.html#day-24---the-k-nearest-neighbors-algorithm"><i class="fa fa-check"></i><b>4.3</b> Day 24 - the <span class="math inline">\(k\)</span>-Nearest Neighbors Algorithm</a></li>
<li class="chapter" data-level="4.4" data-path="four.html"><a href="four.html#day-25---artificial-neural-networks"><i class="fa fa-check"></i><b>4.4</b> Day 25 - Artificial Neural Networks</a><ul>
<li class="chapter" data-level="4.4.1" data-path="four.html"><a href="four.html#introduction-to-artifical-neural-networks"><i class="fa fa-check"></i><b>4.4.1</b> Introduction to Artifical Neural Networks</a></li>
<li class="chapter" data-level="4.4.2" data-path="four.html"><a href="four.html#keras-and-tensorflow"><i class="fa fa-check"></i><b>4.4.2</b> Keras and TensorFlow</a></li>
<li class="chapter" data-level="4.4.3" data-path="four.html"><a href="four.html#applying-keras-and-tensorflow-to-the-covid-19-dataset"><i class="fa fa-check"></i><b>4.4.3</b> Applying Keras and TensorFlow to the COVID-19 Dataset</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="four.html"><a href="four.html#day-26-friday-zoom-check-in"><i class="fa fa-check"></i><b>4.5</b> Day 26 (Friday) Zoom check-in</a><ul>
<li class="chapter" data-level="4.5.1" data-path="four.html"><a href="four.html#review-and-trouble-shoot-25-minutes"><i class="fa fa-check"></i><b>4.5.1</b> Review and trouble shoot (25 minutes)</a></li>
<li class="chapter" data-level="4.5.2" data-path="four.html"><a href="four.html#this-weekend-25-minutes"><i class="fa fa-check"></i><b>4.5.2</b> This weekend (25 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="four.html"><a href="four.html#day-27"><i class="fa fa-check"></i><b>4.6</b> Day 27</a></li>
<li class="chapter" data-level="4.7" data-path="four.html"><a href="four.html#day-28"><i class="fa fa-check"></i><b>4.7</b> Day 28</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="five.html"><a href="five.html"><i class="fa fa-check"></i><b>5</b> Bioinformatics with <span>Bioconductor</span></a><ul>
<li class="chapter" data-level="5.1" data-path="five.html"><a href="five.html#day-29-monday-zoom-check-in"><i class="fa fa-check"></i><b>5.1</b> Day 29 (Monday) Zoom check-in</a></li>
<li class="chapter" data-level="5.2" data-path="five.html"><a href="five.html#day-30"><i class="fa fa-check"></i><b>5.2</b> Day 30</a></li>
<li class="chapter" data-level="5.3" data-path="five.html"><a href="five.html#day-31"><i class="fa fa-check"></i><b>5.3</b> Day 31</a></li>
<li class="chapter" data-level="5.4" data-path="five.html"><a href="five.html#day-32"><i class="fa fa-check"></i><b>5.4</b> Day 32</a></li>
<li class="chapter" data-level="5.5" data-path="five.html"><a href="five.html#day-33-friday-zoom-check-in"><i class="fa fa-check"></i><b>5.5</b> Day 33 (Friday) Zoom check-in</a><ul>
<li class="chapter" data-level="5.5.1" data-path="five.html"><a href="five.html#review-and-trouble-shoot-25-minutes-1"><i class="fa fa-check"></i><b>5.5.1</b> Review and trouble shoot (25 minutes)</a></li>
<li class="chapter" data-level="5.5.2" data-path="five.html"><a href="five.html#next-week-25-minutes"><i class="fa fa-check"></i><b>5.5.2</b> Next week (25 minutes)</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="five.html"><a href="five.html#day-34"><i class="fa fa-check"></i><b>5.6</b> Day 34</a></li>
<li class="chapter" data-level="5.7" data-path="five.html"><a href="five.html#day-35"><i class="fa fa-check"></i><b>5.7</b> Day 35</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="six.html"><a href="six.html"><i class="fa fa-check"></i><b>6</b> Collaboration</a><ul>
<li class="chapter" data-level="6.1" data-path="six.html"><a href="six.html#days-monday-zoom-check-in"><i class="fa fa-check"></i><b>6.1</b> 5 Days (Monday) Zoom check-in</a></li>
<li class="chapter" data-level="6.2" data-path="six.html"><a href="six.html#days"><i class="fa fa-check"></i><b>6.2</b> 4 Days</a></li>
<li class="chapter" data-level="6.3" data-path="six.html"><a href="six.html#days-1"><i class="fa fa-check"></i><b>6.3</b> 3 Days</a></li>
<li class="chapter" data-level="6.4" data-path="six.html"><a href="six.html#days-2"><i class="fa fa-check"></i><b>6.4</b> 2 Days</a></li>
<li class="chapter" data-level="6.5" data-path="six.html"><a href="six.html#today-friday-zoom-check-in"><i class="fa fa-check"></i><b>6.5</b> Today! (Friday) Zoom check-in</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html"><i class="fa fa-check"></i>Frequently asked questions</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">40 Days and 40 Nights</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="one" class="section level1">
<h1><span class="header-section-number">Week 1</span> Basics</h1>
<div id="day-1-monday-zoom-orientation" class="section level2">
<h2><span class="header-section-number">1.1</span> Day 1 (Monday) Zoom orientation</h2>
<div id="logistics-10-minutes" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Logistics (10 minutes)</h3>
<p>Course material</p>
<ul>
<li>Available at <a href="https://mtmorgan.github.io/QuaRantine" class="uri">https://mtmorgan.github.io/QuaRantine</a></li>
</ul>
<p>Cadence</p>
<ul>
<li>Monday and Friday group zoom sessions – these will review and troubleshoot previous material, and outline goals for the next set of independent activities.</li>
<li>Daily independent activities – most of your learning will happen here!</li>
</ul>
<p>Communicating</p>
<ul>
<li>We’ll use Microsoft Teams (if most participants have access to the course)</li>
<li>Visit Microsoft <a href="https://teams.microsoft.com/l/team/19%3a44e8ed2b03db4d28bac6a212ed67717d%40thread.tacv2/conversations?groupId=02d8c183-5110-4504-b201-ace342eb6e2b&amp;tenantId=08beaa21-c9ff-428a-b8f5-53c03dad1941">Teams</a> and sign in with your Roswell username (e.g., <code>MA38727@RoswellPark.org</code>) and the password you use to check email, etc. Join the ‘QuaRantine’ team.</li>
</ul>
</div>
<div id="installing-r-and-rstudio-25-minutes-shawn" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Installing <em>R</em> and <em>RStudio</em> (25 minutes, Shawn)</h3>
<p><img src="images/R_logo.png" style="float:right;"></p>
<p>What is R?</p>
<ul>
<li><p>A programming language for statistical computing, data analysis and scientific graphics.</p></li>
<li><p>Open-source with a large (and growing) user community.</p></li>
<li><p>Currently in the top 10 most popular languages according to the <a href="https://www.tiobe.com/tiobe-index/">tiobe index</a>.</p></li>
</ul>
<p>What is <a href="https://rstudio.com/">RStudio</a>?</p>
<ul>
<li>RStudio provides an integrated editor and shell environment to make R programming easier. Some of the more useful features include:
<ul>
<li>Syntax highlighting and color coding</li>
<li>Easy switching between shell and editor</li>
<li>Dynamic help and docs</li>
</ul></li>
</ul>
<p>Installing <em>R</em> and <em>RStudio</em></p>
<ul>
<li>Two ways to “get” RStudio:
<ul>
<li>Install on your laptop or desktop
<ul>
<li>Download the free desktop <a href="https://rstudio.com/products/rstudio/download/#download">installer here</a></li>
</ul></li>
<li>Use the rstudio.cloud resource
<ul>
<li><a href="https://rstudio.cloud/">Visit rstudio.cloud</a>, sign-up, and sign-on</li>
</ul></li>
</ul></li>
</ul>
<p>The preferred approach for this course is to try to install R and RStudio on your own computer</p>
<ul>
<li>Windows Users:
<ul>
<li><a href="https://cran.rstudio.com/bin/windows/base/R-3.6.3-win.exe">Download R for Windows</a> and run the installer. Avoid, if possible, installing as administrator.</li>
<li><a href="https://download1.rstudio.org/desktop/windows/RStudio-1.2.5033.exe">Download RStudio for Windows</a> and run the installer.</li>
<li>Test the installation by launching RStudio. You should end up with a window like the screen shot below.</li>
</ul></li>
<li>Mac Users:
<ul>
<li><a href="https://cran.rstudio.com/bin/macosx/R-3.6.3.pkg">Download R for macOS</a> (OS X 10.11, El Capitan, and later) or <a href="https://cran.rstudio.com/bin/macosx/R-3.6.3.nn.pkg">older macOS</a> and run the installer.</li>
<li><a href="https://download1.rstudio.org/desktop/macos/RStudio-1.2.5033.dmg">Download RStudio for macOS</a> and run the installer.</li>
<li>Test the installation by launching RStudio. You should end up with a window like the screen shot below.</li>
</ul></li>
</ul>
<p><img src="images/RStudio-screenshot.png" width="1201" /></p>
<p>An ALTERNATIVE, if installing on your own computer does not work:</p>
<ul>
<li>Do the following only if you are NOT ABLE TO INSTALL R and RStudio.</li>
<li><p>Visit <a href="https://rstudio.cloud/">rstudio.cloud</a>. Click the ‘Get Started’ button, and create an account (I used my gmail account…). You should end up at a screen like the following.</p>
<p><img src="images/RStudio-cloud-screenshot.png" width="1191" /></p></li>
<li><p>Click on the ‘New Project’ button, to end up with a screen like the one below. Note the ‘Untitled Project’ at the top of the screen; click on it to name your project, e.g., ‘QuaRantine’.</p>
<p><img src="images/RStudio-cloud-project.png" width="1191" /></p></li>
</ul>
<p><img src="images/breakout_stop.png" width="334" /></p>
<div id="breakout-room" class="section level4 unnumbered">
<h4>Breakout Room</h4>
<p>At this point you should have RStudio running either via your desktop installation or through rstudio.cloud. If not, please let us know via the chat window and we’ll invite you to a breakout room to troubleshoot your installation.</p>
</div>
</div>
<div id="basics-of-r-25-minutes" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Basics of <em>R</em> (25 minutes)</h3>
<p><img src="images/simple_calc.png" style="float:right;"></p>
<div id="r-as-a-simple-calculator" class="section level4 unnumbered">
<h4>R as a simple calculator</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">## [1] 3</span></a></code></pre></div>
</div>
<div id="r-console-output" class="section level4 unnumbered">
<h4>R Console Output</h4>
<p>Enter this in the console:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">## [1] 17</span></a></code></pre></div>
<p>Q: what’s the <code>[1]</code> all about in the output?</p>
<p>A: It’s the index of the first entry in each line.</p>
<p>This is maybe a better example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">30</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">## [26] 26 27 28 29 30</span></a></code></pre></div>
</div>
<div id="displaying-help-in-the-r-console" class="section level4 unnumbered">
<h4>Displaying help in the R Console</h4>
<p><code>? &lt;command-name&gt;</code></p>
<ul>
<li><p>Some examples:</p>
<pre><code>? cat
? print</code></pre></li>
</ul>
</div>
<div id="variables" class="section level4 unnumbered">
<h4>Variables</h4>
<p>Naming variables in <em>R</em></p>
<ul>
<li><p>A variable name can contain letters, numbers, and the dot <code>.</code> or underline <code>_</code> characters. Variables should start with a letter.</p></li>
<li><p>Try entering these in the console:</p>
<p><code>y = 2</code></p>
<p><code>try.this = 33.3</code></p>
<p><code>oneMoreTime = &quot;woohoo&quot;</code></p></li>
<li><p>Now try these:</p>
<p><code>2y = 2</code></p>
<p><code>_z = 33.3</code></p>
<p><code>function = &quot;oops, my bad&quot;</code></p></li>
</ul>
<p><em>R</em> is case sensitive (R != r)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">R =<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">r =<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">R <span class="op">==</span><span class="st"> </span>r</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">## [1] FALSE</span></a></code></pre></div>
<p>Variable Assignment</p>
<ul>
<li><p>You may use <code>=</code> or <code>&lt;-</code> (and even <code>-&gt;</code>) to assign values to a variable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">y =<span class="st">  </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">6</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">7</span> -&gt;<span class="st"> </span>z</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="kw">cat</span>(x, y, z)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">## 17 20 23</span></a></code></pre></div></li>
</ul>
<p><em>R</em>’s four basic ‘atomic’ data types</p>
<ul>
<li>Numeric (includes integer, double, etc.)
<ul>
<li><code>3.14</code>, <code>1</code>, <code>2600</code></li>
</ul></li>
<li>Character (string)
<ul>
<li><code>&quot;hey, I'm a string&quot;</code></li>
<li><code>'single quotes are ok too'</code></li>
</ul></li>
<li>Logical
<ul>
<li><code>TRUE</code> or <code>FALSE</code> (note all caps)</li>
</ul></li>
<li><code>NA</code>
<ul>
<li>not assigned (no known value)</li>
</ul></li>
</ul>
<p>Use <code>class()</code> to query the class of data:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">class</span>(a)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">## [1] &quot;numeric&quot;</span></a></code></pre></div>
<p>Use <code>as.</code> to coerce a variable to a specific data type</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">as.integer</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">class</span>(a)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">## [1] &quot;integer&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">d &lt;-<span class="st"> </span><span class="kw">as.logical</span>(a)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">d</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="kw">class</span>(d)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">## [1] &quot;logical&quot;</span></a></code></pre></div>
</div>
<div id="using-logical-operators" class="section level4 unnumbered">
<h4>Using Logical Operators</h4>
<p>Equivalence test (<code>==</code>):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">## [1] FALSE</span></a></code></pre></div>
<p>Not equal test (<code>!=</code>):</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="dv">1</span> <span class="op">!=</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">## [1] TRUE</span></a></code></pre></div>
<p>less-than (<code>&lt;</code>) and greater-than (<code>&gt;</code>):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="dv">18</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">44</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">## [1] FALSE</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="dv">3</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">204</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">## [1] TRUE</span></a></code></pre></div>
<p>Logical Or (<code>|</code>):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">(<span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) <span class="op">|</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">## [1] TRUE</span></a></code></pre></div>
<p>Logical And (<code>&amp;</code>):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">(<span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) <span class="op">&amp;</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">## [1] FALSE</span></a></code></pre></div>
</div>
<div id="objects-and-vectors-in-r" class="section level4 unnumbered">
<h4>Objects and Vectors in R</h4>
<p>Objects</p>
<ul>
<li>R stores everything, variables included, in ‘objects’.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="fl">2.71</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co"># print the value of an object</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">## [1] 2.71</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co"># determine class or internal type of an object</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="kw">class</span>(x)</a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">## [1] &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co"># TRUE if an object has not been assigned a value</span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="kw">is.na</span>(x)</a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">## [1] FALSE</span></a></code></pre></div>
<p>Vectors</p>
<ul>
<li>‘Vectors’ and ‘data frames’ are the bread and butter of R</li>
<li>Vectors consist of several elements of the <b><i>same class</b></i>
<ul>
<li>e.g. a vector of heart rates, one per patient</li>
</ul></li>
</ul>
<p><img src="images/simple_vector.png" width="246" /></p>
<p>Data frames (<code>data.frame</code>)</p>
<ul>
<li>Data frames are structures that can contain columns of <b><i>various types</b></i>
<ul>
<li>e.g. height, weight, age, heart rate, etc.</li>
<li>Handy containers for experimental data</li>
<li>Analogous to spreadsheet data</li>
<li>More on Data Frames throughout the week!</li>
</ul></li>
</ul>
</div>
<div id="working-with-vectors" class="section level4 unnumbered">
<h4>Working with Vectors</h4>
<p>Creating a Vector</p>
<ul>
<li>Use the <code>c()</code> function</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;Jane Smith&quot;</span>, <span class="st">&quot;MacGillicuddy Jones&quot;</span>, <span class="st">&quot;Echo Shamus&quot;</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">36</span>, <span class="dv">54</span>, <span class="dv">82</span>, <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">favorite_color &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;black&quot;</span>)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">## print the vectors</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6">name</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">## [1] &quot;John Doe&quot;            &quot;Jane Smith&quot;          &quot;MacGillicuddy Jones&quot;</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">## [4] &quot;Echo Shamus&quot;</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9">age</a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">## [1] 36 54 82 15</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11">favorite_color</a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">## [1] &quot;red&quot;    &quot;orange&quot; &quot;green&quot;  &quot;black&quot;</span></a></code></pre></div>
<p>Accessing vector data</p>
<ul>
<li>Use numerical indexing</li>
<li>R uses 1-based indexing
<ul>
<li>1st vector element has index of 1</li>
<li>2nd has an index of 2</li>
<li>3rd has an index of 3</li>
<li>and so on</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">name[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co">## [1] &quot;John Doe&quot;</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3">age[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="co">## [1] 82</span></a></code></pre></div>
<ul>
<li>R supports “slicing” (i.e. extracting multiple items)</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">favorite_color[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co">## [1] &quot;orange&quot; &quot;green&quot;</span></a></code></pre></div>
<ul>
<li>Negative indices are omitted</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">age[<span class="op">-</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">## [1] 36 82 15</span></a></code></pre></div>
<p>Some Useful Vector Operations</p>
<ul>
<li><code>length()</code>: number of elements</li>
<li><code>sum()</code>: sum of all element values</li>
<li><code>unique()</code>: distinct values</li>
<li><code>sort()</code>: sort elements, omitting NAs</li>
<li><code>order()</code>: indices of sorted elements, NAs are last</li>
<li><code>rev()</code>: reverse the order</li>
<li><code>summary()</code>: simple statistics</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">sum</span>(a)</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="co">## [1] 35</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="kw">length</span>(a)</a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="co">## [1] 6</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="kw">unique</span>(a)</a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co">## [1] 5 6 7 8 4</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="kw">sort</span>(a)</a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co">## [1] 4 5 5 6 7 8</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="kw">order</span>(a)</a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="co">## [1] 6 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12">a[<span class="kw">order</span>(a)]</a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co">## [1] 4 5 5 6 7 8</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="kw">rev</span>(a)</a>
<a class="sourceLine" id="cb23-15" data-line-number="15"><span class="co">## [1] 4 8 7 6 5 5</span></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="kw">summary</span>(a)</a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="co">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb23-18" data-line-number="18"><span class="co">##   4.000   5.000   5.500   5.833   6.750   8.000</span></a></code></pre></div>
<p>Handling Missing Data</p>
<ul>
<li>First consider the <i>reason(s)</i> for the missing data
<ul>
<li>e.g. concentrations that are below detectable levels?</li>
</ul></li>
<li>Sometimes NAs in data require special statistical methods</li>
<li>Other times we can safely discard / ignore NA entries</li>
<li>To remove NAs prior to a calculation:</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">y =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="ot">NA</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="kw">sum</span>(y, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co">## [1] 6</span></a></code></pre></div>
</div>
<div id="wrapping-up-day-1" class="section level4 unnumbered">
<h4>Wrapping up day 1</h4>
<p>The goal for today was to rapidly cover some of the essential aspects of R programming. For the remainder of the week you’ll work at your own pace to get more of a hands-on deep dive into this material. If you run into trouble please don’t hesiate to ask for help via <a href="https://teams.microsoft.com/l/team/19%3a44e8ed2b03db4d28bac6a212ed67717d%40thread.tacv2/conversations?groupId=02d8c183-5110-4504-b201-ace342eb6e2b&amp;tenantId=08beaa21-c9ff-428a-b8f5-53c03dad1941">Teams</a> (QuaRantine Team), <a href = "https://quarantinecourse.slack.com/archives/C011GGP4K62">slack</a> (QuaRantine Course), or <a href="mailto:Loren.Matott@RoswellPark.org?cc=Martin.Morgan@RoswellPark.org">email</a> (Drs. Matott and Morgan) — whatever works best for you!</p>
</div>
</div>
</div>
<div id="day-2-vectors-and-variables" class="section level2">
<h2><span class="header-section-number">1.2</span> Day 2: Vectors and variables</h2>
<p>Our overall goal for the next few days is to use <em>R</em> to create a daily log of quarantine activities.</p>
<p>Our goal for today is to become familiar with <em>R</em> vectors. Along the way we’ll probably make data entry and other errors that will start to get us comfortable with <em>R</em>.</p>
<p>If you run into problems, reach out to the slack channel for support!</p>
<p>The astronaut Scott Kelly said that to survive a year on the International Space Station he found it essential to</p>
<ul>
<li>Follow a schedule – plan your day, and stick to the plan</li>
<li>Pace yourselves – you’ve got a long time to accomplish tasks, so don’t try to get everything done in the first week.</li>
<li>Go outside – if Scott can head out to space, we should be able to make it to the back yard or around the block!</li>
<li>Get a hobby – something not work related, and away from that evil little screen. Maybe it’s as simple as rediscovering the joy of reading.</li>
<li>Keep a journal</li>
<li>Take time to connect – on a human level, with people you work with and people you don’t!</li>
<li>Listen to experts – Scott talked about relying on the mission controllers; for us maybe that’s watching webinars or taking courses in new topics!</li>
<li>Wash your hands!</li>
</ul>
<p>I wanted to emphasize ‘follow a schedule’ and ‘keep a journal’. How can <em>R</em> help? Well, I want to create a short record of how I spend today, day 2 of my quarantine.</p>
<p>My first goal is to create <em>vectors</em> describing things I plan to do today. Let’s start with some of these. To get up to speed, type the following into the <em>R</em> console, at the <code>&gt;</code> prompt</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<p>Press the carriage return and remind yourself that <em>R</em> is a calculator, and knows how to work with numbers!</p>
<p>Now type an activity in your day, for instance I often start with</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="st">&quot;check e-mail&quot;</span></a></code></pre></div>
<p>Now try assigning that to a variable, and displaying the variable, e.g.,</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">activity &lt;-<span class="st"> &quot;check e-mail&quot;</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">activity</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="co">## [1] &quot;check e-mail&quot;</span></a></code></pre></div>
<p>OK, likely you have several activities scheduled. Create a <em>vector</em> of a few of
these by <code>c</code>oncatenating individual values</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">## [5] &quot;walk&quot;</span></a></code></pre></div>
<p>Assign these to a variable</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">activity &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">activity</a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="co">## [5] &quot;walk&quot;</span></a></code></pre></div>
<p>Create another vector, but this time the vector should contain the minutes spent on each activity</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">minutes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">minutes</a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="co">## [1] 20 30 60 60 60</span></a></code></pre></div>
<p>So I spent 20 minutes checking email, 30 minutes having breakfast and things like that, I was in a conference call for 60 minutes, and then attended a webinar where I learned new stuff for another 60 minutes. Finally I went for a walk to clear my head and remember why I’m doing things.</p>
<p>Apply some basic functions to the variables, e.g., use <code>length()</code> to demonstrate that you for each <code>activity</code> you have recorded the <code>minutes</code>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">length</span>(activity)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="co">## [1] 5</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="kw">length</span>(minutes)</a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="co">## [1] 5</span></a></code></pre></div>
<p>Use <code>tail()</code> to select the last two activities (or <code>head()</code> to select the first two…)</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">tail</span>(activity, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="co">## [1] &quot;webinar&quot; &quot;walk&quot;</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="kw">tail</span>(minutes, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co">## [1] 60 60</span></a></code></pre></div>
<p><em>R</em> has other types of vectors. Create a logical vector that indicates whether each activity was ‘work’ activity’ or something you did for your own survival. We’ll say that checking email is a work-related activity!</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">is_work &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">is_work</a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="co">## [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a></code></pre></div>
</div>
<div id="day-3-factor-date-and-na" class="section level2">
<h2><span class="header-section-number">1.3</span> Day 3: <code>factor()</code>, <code>Date()</code>, and <code>NA</code></h2>
<p>Yesterday we learned about <code>character</code>, <code>numeric</code>, and <code>logical</code> vectors in <em>R</em> (you may need to revisit previous notes and re-create these variables)</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">activity</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="co">## [5] &quot;walk&quot;</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4">minutes</a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="co">## [1] 20 30 60 60 60</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6">is_work</a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="co">## [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a></code></pre></div>
<p>Today we will learn about slightly more complicated vectors.</p>
<p>We created the logical vector <code>is_work</code> to classify each <code>activity</code> as either work-related or not. What if we had several different categories? For instance, we might want to classify the activities into categories inspired by astronaut Kelly’s guidance. Categories might include: <code>connect</code> with others; go outside and <code>exercise</code>; <code>consult</code> experts; get a <code>hobby</code>; and (my own category, I guess) perform <code>essential</code> functions like eating and sleeping. So the values of <code>activity</code> could be classified as</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">classification &lt;-</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="st">    </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;exercise&quot;</span>)</a></code></pre></div>
<p>I want to emphasize a difference between the <code>activity</code> and <code>classification</code> variables. I want <code>activity</code> to be a character vector that could contain any description of an activity. But I want <code>classification</code> to be terms only from a limited set of possibilities. In <em>R</em>, I want <code>classification</code> to be a special type of vector called a <code>factor</code>, with the <em>values</em> of the vector restricted to a set of possible <em>levels</em> that I define. I create a factor by enumerating the possible <em>levels</em> that the factor can take on</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;exercise&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>, <span class="st">&quot;essential&quot;</span>)</a></code></pre></div>
<p>And then tell <em>R</em> that the vector <code>classification</code> should be a factor with values taken from a particular set of levels</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">classification &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;exercise&quot;</span>),</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb37-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb37-5" data-line-number="5">classification</a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="co">## [1] connect   essential connect   consult   exercise </span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="co">## Levels: connect exercise consult hobby essential</span></a></code></pre></div>
<p>Notice that activity (a character vector) displays differently from classification (a factor)</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">activity</a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="co">## [5] &quot;walk&quot;</span></a>
<a class="sourceLine" id="cb38-4" data-line-number="4">classification</a>
<a class="sourceLine" id="cb38-5" data-line-number="5"><span class="co">## [1] connect   essential connect   consult   exercise </span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="co">## Levels: connect exercise consult hobby essential</span></a></code></pre></div>
<p>Also, some of the levels (e.g., <code>hobby</code>) have not been part of our schedule yet, but the factor still ‘knows’ about the level.</p>
<p>Notice also what happens when I try to use a value (<code>disconnect</code>) that is not a level of a factor</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;disconnect&quot;</span>), <span class="dt">levels =</span> levels)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="co">## [1] connect &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="co">## Levels: connect exercise consult hobby essential</span></a></code></pre></div>
<p>The value with the unknown level is displayed as <code>NA</code>, for ‘not known’. <code>NA</code> values can be present in any vector, e.g.,</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="co">## [1]  1  2 NA  4</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="kw">c</span>(<span class="st">&quot;walk&quot;</span>, <span class="st">&quot;talk&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="co">## [1] &quot;walk&quot; &quot;talk&quot; NA</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="kw">c</span>(<span class="ot">NA</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="co">## [1]    NA  TRUE FALSE  TRUE  TRUE</span></a></code></pre></div>
<p>This serves as an indication that the value is simply not available. Use <code>NA</code> rather than adopting some special code (e.g., ‘-99’) to indicate when a value is not available.</p>
<p>One other type of vector we will work a lot with are dates. All of my activities are for today, so I’ll start with a character vector with the same length as my activity vector, each indicating the date in a consistent month-day-year format</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="st">&quot;04-14-2020&quot;</span>, <span class="st">&quot;04-14-2020&quot;</span>, <span class="st">&quot;04-14-2020&quot;</span>, <span class="st">&quot;04-14-2020&quot;</span>)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2">dates</a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="co">## [1] &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot;</span></a></code></pre></div>
<p>Incidentally, I could do this more efficiently using the <code>rep</code>licate function</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="co">## [1] &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot;</span></a></code></pre></div>
<p>And even better use <code>length()</code> to know for sure how many times I should replicate the character vector</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="kw">length</span>(activity))</a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="co">## [1] &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot; &quot;04-14-2020&quot;</span></a></code></pre></div>
<p><code>dates</code> is a character vector, but it has specially meaning as a calendar date, <em>R</em> has a <code>Date</code> <em>class</em> that knows how to work with dates, for instance to calculate the number of days between two dates. We will <em>coerce</em> <code>date</code> to an object of class <code>Date</code> using a function <code>as.Date</code>. Here’s our first attempt…</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">as.Date</span>(dates)</a></code></pre></div>
<p>… but this results in an error:</p>
<pre><code>Error in charToDate(x) :
  character string is not in a standard unambiguous format</code></pre>
<p><em>R</em> doesn’t know the format (month-day-year) of the dates we provide. The solution is to add a second argument to <code>as.Date()</code>. The second argument is a character vector that describes the date format. The format we use is <code>&quot;%m-%d-%Y&quot;</code>, which says that we provide the <code>%m</code>onth first, then a hyphen, then the <code>%d</code>ay, another hyphen, and finally the four-digit <code>%Y</code>ear.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">as.Date</span>(dates, <span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>)</a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="co">## [1] &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot;</span></a></code></pre></div>
<p>Notice that the format has been standardized to year-month-day. Also notice that although the original value of <code>date</code> and the return from <code>as.Data()</code> look the same, they are actually of different <em>class</em>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="kw">class</span>(date)</a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="co">## [1] &quot;function&quot;</span></a>
<a class="sourceLine" id="cb47-3" data-line-number="3"><span class="kw">class</span>(<span class="kw">as.Date</span>(dates, <span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>))</a>
<a class="sourceLine" id="cb47-4" data-line-number="4"><span class="co">## [1] &quot;Date&quot;</span></a></code></pre></div>
<p><em>R</em> will use the information about class to enable specialized calculation on dates, e.g., to sort them or to determine the number of days between different dates. So here’s our <code>date</code> vector as a <code>Date</code> object.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">dates &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="kw">length</span>(activity))</a>
<a class="sourceLine" id="cb48-2" data-line-number="2">date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(dates, <span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>)</a>
<a class="sourceLine" id="cb48-3" data-line-number="3">date</a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="co">## [1] &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot;</span></a></code></pre></div>
<p>OK, time for a walk! See you tomorrow!</p>
</div>
<div id="day-4-working-with-variables" class="section level2">
<h2><span class="header-section-number">1.4</span> Day 4: Working with variables</h2>
<p>Remember that <em>R</em> can act as a simple calculator, and that one can create new variables by assignment</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2">x <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="co">## [1] 2</span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4">y &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb49-5" data-line-number="5">y</a>
<a class="sourceLine" id="cb49-6" data-line-number="6"><span class="co">## [1] 2</span></a></code></pre></div>
<p>Let’s apply these ideaas to our <code>minutes</code> vector from earlier in the week.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">minutes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a></code></pre></div>
<p>We can perform basic arithmetic on vectors. Suppose we wanted to increase the time of each activity by 5 minutes</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">minutes <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="co">## [1] 25 35 65 65 65</span></a></code></pre></div>
<p>or to increase the time of the first two activities by 5 minutes, and the last three activities by 10 minutes</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">minutes <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="co">## [1] 25 35 70 70 70</span></a></code></pre></div>
<p><em>R</em> has a very large number of <em>functions</em> that can be used on vectors. For instance, the average time spent on activities is</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="kw">mean</span>(minutes)</a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="co">## [1] 46</span></a></code></pre></div>
<p>while the total amount of time is</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">sum</span>(minutes)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="co">## [1] 230</span></a></code></pre></div>
<p>Explore other typical mathematical transformations, e.g., <code>log()</code>, <code>log10()</code>, <code>sqrt()</code> (square root), … Check out the help pages for each, e.g., <code>?log</code>.</p>
<p>Explore the consequences of <code>NA</code> in a vector for functions like <code>mean()</code> and <code>sum()</code>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="co">## [1] NA</span></a></code></pre></div>
<p><em>R</em> is saying that, since there is an unknown (<code>NA</code>) value in the vector, it cannot possibly know what the mean is! Tell <em>R</em> to remove the missing values before performing the calculation by adding the <code>na.rm = TRUE</code> argument</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="co">## [1] 2</span></a></code></pre></div>
<p>Check out the help page <code>?mean</code> to find a description of the <code>na.rm</code> and other arguments.</p>
<p>It’s possible to perform logical operations on vectors, e.g., to ask which activities lasted 60 minutes or more</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1">minutes <span class="op">&gt;=</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="co">## [1] FALSE FALSE  TRUE  TRUE  TRUE</span></a></code></pre></div>
<p>Here’s our <code>activity</code> vector</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">activity &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a></code></pre></div>
<p>The elements of this vector are numbered from 1 to 5. We can create a new vector that is a subset of this vector using <code>[</code> and an integer index, e.g., the second activity is</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1">activity[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="co">## [1] &quot;breakfast&quot;</span></a></code></pre></div>
<p>The index can actually be a vector, so we could choose the second and fourth activity as</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1">index &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb60-2" data-line-number="2">activity[index]</a>
<a class="sourceLine" id="cb60-3" data-line-number="3"><span class="co">## [1] &quot;breakfast&quot; &quot;webinar&quot;</span></a></code></pre></div>
<p>In fact, we can use logical vectors for subsetting. Consider the activities that take sixty minutes or longer:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1">index &lt;-<span class="st"> </span>minutes <span class="op">&gt;=</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2">activity[index]</a>
<a class="sourceLine" id="cb61-3" data-line-number="3"><span class="co">## [1] &quot;conference call&quot; &quot;webinar&quot;         &quot;walk&quot;</span></a></code></pre></div>
<p>We had previously characterized the activities as ‘work’ or otherwise.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1">is_work &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a></code></pre></div>
<p>Use <code>is_work</code> to subset <code>activity</code> and identify the work-related activities</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1">activity[is_work]</a>
<a class="sourceLine" id="cb63-2" data-line-number="2"><span class="co">## [1] &quot;check e-mail&quot;    &quot;conference call&quot; &quot;webinar&quot;</span></a></code></pre></div>
<p>How many minutes were work-related?</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">work_minutes &lt;-<span class="st"> </span>minutes[is_work]</a>
<a class="sourceLine" id="cb64-2" data-line-number="2"><span class="kw">sum</span>(work_minutes)</a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="co">## [1] 140</span></a></code></pre></div>
<p>What about not work related? <code>!</code> negates logical vectors, so</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">is_work</a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="co">## [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="op">!</span>is_work</a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="co">## [1] FALSE  TRUE FALSE FALSE  TRUE</span></a>
<a class="sourceLine" id="cb65-5" data-line-number="5">non_work_minutes &lt;-<span class="st"> </span>minutes[<span class="op">!</span>is_work]</a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="kw">sum</span>(non_work_minutes)</a>
<a class="sourceLine" id="cb65-7" data-line-number="7"><span class="co">## [1] 90</span></a></code></pre></div>
<p>Note that it doesn’t make sense to take the <code>mean()</code> of a character vector like <code>activity</code>, and <em>R</em> signals a warning and returns <code>NA</code></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">mean</span>(activity)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="co">## Warning in mean.default(activity): argument is not numeric or logical: returning</span></a>
<a class="sourceLine" id="cb66-3" data-line-number="3"><span class="co">## NA</span></a>
<a class="sourceLine" id="cb66-4" data-line-number="4"><span class="co">## [1] NA</span></a></code></pre></div>
<p>Nonetheless, there are many functions that <em>do</em> work on character vectors, e.g., the number of letters in each element <code>nchar()</code>, or transformation to upper-case</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">nchar</span>(activity)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="co">## [1] 12  9 15  7  4</span></a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="kw">toupper</span>(activity)</a>
<a class="sourceLine" id="cb67-4" data-line-number="4"><span class="co">## [1] &quot;CHECK E-MAIL&quot;    &quot;BREAKFAST&quot;       &quot;CONFERENCE CALL&quot; &quot;WEBINAR&quot;        </span></a>
<a class="sourceLine" id="cb67-5" data-line-number="5"><span class="co">## [5] &quot;WALK&quot;</span></a></code></pre></div>
</div>
<div id="day-5-friday-zoom-check-in" class="section level2">
<h2><span class="header-section-number">1.5</span> Day 5 (Friday) Zoom check-in</h2>
<div id="logistics" class="section level3">
<h3><span class="header-section-number">1.5.1</span> Logistics</h3>
<ul>
<li>Please join Microsoft <a href="https://teams.microsoft.com/l/team/19%3a44e8ed2b03db4d28bac6a212ed67717d%40thread.tacv2/conversations?groupId=02d8c183-5110-4504-b201-ace342eb6e2b&amp;tenantId=08beaa21-c9ff-428a-b8f5-53c03dad1941">Teams</a>! Need help? Contact Adam.Kisailus at RoswellPark.org.</li>
</ul>
</div>
<div id="review-and-trouble-shoot-25-minutes-martin" class="section level3">
<h3><span class="header-section-number">1.5.2</span> Review and trouble shoot (25 minutes; Martin)</h3>
<div id="data-representations" class="section level4 unnumbered">
<h4>Data representations</h4>
<p>‘Atomic’ vectors</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">activity &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a>
<a class="sourceLine" id="cb68-2" data-line-number="2">minutes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb68-3" data-line-number="3">is_work &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a></code></pre></div>
<p><code>factor()</code> and <code>date()</code></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;exercise&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>, <span class="st">&quot;essential&quot;</span>)</a>
<a class="sourceLine" id="cb69-2" data-line-number="2">classification &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb69-3" data-line-number="3">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;exercise&quot;</span>),</a>
<a class="sourceLine" id="cb69-4" data-line-number="4">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb69-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb69-6" data-line-number="6"></a>
<a class="sourceLine" id="cb69-7" data-line-number="7">dates &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="kw">length</span>(activity))</a>
<a class="sourceLine" id="cb69-8" data-line-number="8">date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(dates, <span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>)</a></code></pre></div>
<p>Missing values</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb70-2" data-line-number="2"><span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb70-3" data-line-number="3"><span class="co">## [1] NA</span></a>
<a class="sourceLine" id="cb70-4" data-line-number="4"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb70-5" data-line-number="5"><span class="co">## [1] 9</span></a>
<a class="sourceLine" id="cb70-6" data-line-number="6"></a>
<a class="sourceLine" id="cb70-7" data-line-number="7"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;disconnect&quot;</span>), <span class="dt">levels =</span> levels)</a>
<a class="sourceLine" id="cb70-8" data-line-number="8"><span class="co">## [1] connect &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb70-9" data-line-number="9"><span class="co">## Levels: connect exercise consult hobby essential</span></a></code></pre></div>
<p>Functions and logical operators</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb71-3" data-line-number="3"><span class="co">## [1] NA</span></a>
<a class="sourceLine" id="cb71-4" data-line-number="4"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb71-5" data-line-number="5"><span class="co">## [1] 9</span></a>
<a class="sourceLine" id="cb71-6" data-line-number="6"></a>
<a class="sourceLine" id="cb71-7" data-line-number="7">minutes <span class="op">&gt;=</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb71-8" data-line-number="8"><span class="co">## [1] FALSE FALSE  TRUE  TRUE  TRUE</span></a></code></pre></div>
<p>Subsetting vectors</p>
<ul>
<li><p>1-basaed numeric indexes</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">activity</a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb72-3" data-line-number="3"><span class="co">## [5] &quot;walk&quot;</span></a>
<a class="sourceLine" id="cb72-4" data-line-number="4"></a>
<a class="sourceLine" id="cb72-5" data-line-number="5">idx &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb72-6" data-line-number="6">activity[idx]</a>
<a class="sourceLine" id="cb72-7" data-line-number="7"><span class="co">## [1] &quot;check e-mail&quot;    &quot;conference call&quot; &quot;check e-mail&quot;</span></a></code></pre></div></li>
<li><p>logical index</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1">is_work</a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="co">## [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb73-3" data-line-number="3">activity[is_work]</a>
<a class="sourceLine" id="cb73-4" data-line-number="4"><span class="co">## [1] &quot;check e-mail&quot;    &quot;conference call&quot; &quot;webinar&quot;</span></a>
<a class="sourceLine" id="cb73-5" data-line-number="5"></a>
<a class="sourceLine" id="cb73-6" data-line-number="6"><span class="kw">sum</span>(minutes[is_work])</a>
<a class="sourceLine" id="cb73-7" data-line-number="7"><span class="co">## [1] 140</span></a></code></pre></div></li>
<li><p>Maybe more interesting…</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">short &lt;-<span class="st"> </span>minutes <span class="op">&lt;</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb74-2" data-line-number="2">short</a>
<a class="sourceLine" id="cb74-3" data-line-number="3"><span class="co">## [1]  TRUE  TRUE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb74-4" data-line-number="4">minutes[short]</a>
<a class="sourceLine" id="cb74-5" data-line-number="5"><span class="co">## [1] 20 30</span></a>
<a class="sourceLine" id="cb74-6" data-line-number="6">activity[short]</a>
<a class="sourceLine" id="cb74-7" data-line-number="7"><span class="co">## [1] &quot;check e-mail&quot; &quot;breakfast&quot;</span></a></code></pre></div></li>
</ul>
</div>
<div id="other-fun-topics" class="section level4 unnumbered">
<h4>Other fun topics</h4>
<p><code>%in%</code>: a <em>binary operator</em></p>
<ul>
<li><p>is each of the vector elements on the left-hand side <em>in</em> the set of elements on the right hand side</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">fruits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;grape&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;kiwi&quot;</span>)</a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;hand sanitizer&quot;</span>) <span class="op">%in%</span><span class="st"> </span>fruits</a>
<a class="sourceLine" id="cb75-3" data-line-number="3"><span class="co">## [1]  TRUE  TRUE FALSE</span></a></code></pre></div></li>
</ul>
<p><em>named</em> vectors (see <a href="https://www2.census.gov/programs-surveys/popest/tables/2010-2019/state/totals/nst-est2019-01.xlsx">Annual Estimates…</a> table from <a href="https://www.census.gov/data/datasets/time-series/demo/popest/2010s-state-total.html">census.gov</a>)</p>
<ul>
<li><p>Define a named vector</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">state_populations &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb76-2" data-line-number="2">    <span class="dt">Alabama =</span> <span class="dv">4903185</span>, <span class="dt">Alaska =</span> <span class="dv">731545</span>, <span class="dt">Arizona =</span> <span class="dv">7278717</span>, <span class="dt">Arkansas =</span> <span class="dv">3017804</span>,</a>
<a class="sourceLine" id="cb76-3" data-line-number="3">    <span class="dt">California =</span> <span class="dv">39512223</span>, <span class="dt">Colorado =</span> <span class="dv">5758736</span>, <span class="dt">Connecticut =</span> <span class="dv">3565287</span>,</a>
<a class="sourceLine" id="cb76-4" data-line-number="4">    <span class="dt">Delaware =</span> <span class="dv">973764</span>, <span class="st">`</span><span class="dt">District of Columbia</span><span class="st">`</span> =<span class="st"> </span><span class="dv">705749</span>, <span class="dt">Florida =</span> <span class="dv">21477737</span>,</a>
<a class="sourceLine" id="cb76-5" data-line-number="5">    <span class="dt">Georgia =</span> <span class="dv">10617423</span>, <span class="dt">Hawaii =</span> <span class="dv">1415872</span>, <span class="dt">Idaho =</span> <span class="dv">1787065</span>, <span class="dt">Illinois =</span> <span class="dv">12671821</span>,</a>
<a class="sourceLine" id="cb76-6" data-line-number="6">    <span class="dt">Indiana =</span> <span class="dv">6732219</span>, <span class="dt">Iowa =</span> <span class="dv">3155070</span>, <span class="dt">Kansas =</span> <span class="dv">2913314</span>, <span class="dt">Kentucky =</span> <span class="dv">4467673</span>,</a>
<a class="sourceLine" id="cb76-7" data-line-number="7">    <span class="dt">Louisiana =</span> <span class="dv">4648794</span>, <span class="dt">Maine =</span> <span class="dv">1344212</span>, <span class="dt">Maryland =</span> <span class="dv">6045680</span>, <span class="dt">Massachusetts =</span> <span class="dv">6892503</span>,</a>
<a class="sourceLine" id="cb76-8" data-line-number="8">    <span class="dt">Michigan =</span> <span class="dv">9986857</span>, <span class="dt">Minnesota =</span> <span class="dv">5639632</span>, <span class="dt">Mississippi =</span> <span class="dv">2976149</span>,</a>
<a class="sourceLine" id="cb76-9" data-line-number="9">    <span class="dt">Missouri =</span> <span class="dv">6137428</span>, <span class="dt">Montana =</span> <span class="dv">1068778</span>, <span class="dt">Nebraska =</span> <span class="dv">1934408</span>, <span class="dt">Nevada =</span> <span class="dv">3080156</span>,</a>
<a class="sourceLine" id="cb76-10" data-line-number="10">    <span class="st">`</span><span class="dt">New Hampshire</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1359711</span>, <span class="st">`</span><span class="dt">New Jersey</span><span class="st">`</span> =<span class="st"> </span><span class="dv">8882190</span>, <span class="st">`</span><span class="dt">New Mexico</span><span class="st">`</span> =<span class="st"> </span><span class="dv">2096829</span>,</a>
<a class="sourceLine" id="cb76-11" data-line-number="11">    <span class="st">`</span><span class="dt">New York</span><span class="st">`</span> =<span class="st"> </span><span class="dv">19453561</span>, <span class="st">`</span><span class="dt">North Carolina</span><span class="st">`</span> =<span class="st"> </span><span class="dv">10488084</span>, <span class="st">`</span><span class="dt">North Dakota</span><span class="st">`</span> =<span class="st"> </span><span class="dv">762062</span>,</a>
<a class="sourceLine" id="cb76-12" data-line-number="12">    <span class="dt">Ohio =</span> <span class="dv">11689100</span>, <span class="dt">Oklahoma =</span> <span class="dv">3956971</span>, <span class="dt">Oregon =</span> <span class="dv">4217737</span>, <span class="dt">Pennsylvania =</span> <span class="dv">12801989</span>,</a>
<a class="sourceLine" id="cb76-13" data-line-number="13">    <span class="st">`</span><span class="dt">Rhode Island</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1059361</span>, <span class="st">`</span><span class="dt">South Carolina</span><span class="st">`</span> =<span class="st"> </span><span class="dv">5148714</span>, <span class="st">`</span><span class="dt">South Dakota</span><span class="st">`</span> =<span class="st"> </span><span class="dv">884659</span>,</a>
<a class="sourceLine" id="cb76-14" data-line-number="14">    <span class="dt">Tennessee =</span> <span class="dv">6829174</span>, <span class="dt">Texas =</span> <span class="dv">28995881</span>, <span class="dt">Utah =</span> <span class="dv">3205958</span>, <span class="dt">Vermont =</span> <span class="dv">623989</span>,</a>
<a class="sourceLine" id="cb76-15" data-line-number="15">    <span class="dt">Virginia =</span> <span class="dv">8535519</span>, <span class="dt">Washington =</span> <span class="dv">7614893</span>, <span class="st">`</span><span class="dt">West Virginia</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1792147</span>,</a>
<a class="sourceLine" id="cb76-16" data-line-number="16">    <span class="dt">Wisconsin =</span> <span class="dv">5822434</span>, <span class="dt">Wyoming =</span> <span class="dv">578759</span></a>
<a class="sourceLine" id="cb76-17" data-line-number="17">)</a></code></pre></div></li>
<li><p>Computations on named vectors</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="co">## US population</span></a>
<a class="sourceLine" id="cb77-2" data-line-number="2"><span class="kw">sum</span>(state_populations)</a>
<a class="sourceLine" id="cb77-3" data-line-number="3"><span class="co">## [1] 328239523</span></a>
<a class="sourceLine" id="cb77-4" data-line-number="4"></a>
<a class="sourceLine" id="cb77-5" data-line-number="5"><span class="co">## smallest states</span></a>
<a class="sourceLine" id="cb77-6" data-line-number="6"><span class="kw">head</span>(<span class="kw">sort</span>(state_populations))</a>
<a class="sourceLine" id="cb77-7" data-line-number="7"><span class="co">##              Wyoming              Vermont District of Columbia </span></a>
<a class="sourceLine" id="cb77-8" data-line-number="8"><span class="co">##               578759               623989               705749 </span></a>
<a class="sourceLine" id="cb77-9" data-line-number="9"><span class="co">##               Alaska         North Dakota         South Dakota </span></a>
<a class="sourceLine" id="cb77-10" data-line-number="10"><span class="co">##               731545               762062               884659</span></a>
<a class="sourceLine" id="cb77-11" data-line-number="11"></a>
<a class="sourceLine" id="cb77-12" data-line-number="12"><span class="co">## largest states</span></a>
<a class="sourceLine" id="cb77-13" data-line-number="13"><span class="kw">head</span>(<span class="kw">sort</span>(state_populations, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb77-14" data-line-number="14"><span class="co">##   California        Texas      Florida     New York Pennsylvania     Illinois </span></a>
<a class="sourceLine" id="cb77-15" data-line-number="15"><span class="co">##     39512223     28995881     21477737     19453561     12801989     12671821</span></a>
<a class="sourceLine" id="cb77-16" data-line-number="16"></a>
<a class="sourceLine" id="cb77-17" data-line-number="17"><span class="co">## states with more than 10 million people</span></a>
<a class="sourceLine" id="cb77-18" data-line-number="18">big &lt;-<span class="st"> </span>state_populations[state_populations <span class="op">&gt;</span><span class="st"> </span><span class="dv">10000000</span>]</a>
<a class="sourceLine" id="cb77-19" data-line-number="19">big</a>
<a class="sourceLine" id="cb77-20" data-line-number="20"><span class="co">##     California        Florida        Georgia       Illinois       New York </span></a>
<a class="sourceLine" id="cb77-21" data-line-number="21"><span class="co">##       39512223       21477737       10617423       12671821       19453561 </span></a>
<a class="sourceLine" id="cb77-22" data-line-number="22"><span class="co">## North Carolina           Ohio   Pennsylvania          Texas </span></a>
<a class="sourceLine" id="cb77-23" data-line-number="23"><span class="co">##       10488084       11689100       12801989       28995881</span></a>
<a class="sourceLine" id="cb77-24" data-line-number="24"><span class="kw">names</span>(big)</a>
<a class="sourceLine" id="cb77-25" data-line-number="25"><span class="co">## [1] &quot;California&quot;     &quot;Florida&quot;        &quot;Georgia&quot;        &quot;Illinois&quot;      </span></a>
<a class="sourceLine" id="cb77-26" data-line-number="26"><span class="co">## [5] &quot;New York&quot;       &quot;North Carolina&quot; &quot;Ohio&quot;           &quot;Pennsylvania&quot;  </span></a>
<a class="sourceLine" id="cb77-27" data-line-number="27"><span class="co">## [9] &quot;Texas&quot;</span></a></code></pre></div></li>
<li><p>Subset by name</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="co">## populations of California and New York</span></a>
<a class="sourceLine" id="cb78-2" data-line-number="2">state_populations[<span class="kw">c</span>(<span class="st">&quot;California&quot;</span>, <span class="st">&quot;New York&quot;</span>)]</a>
<a class="sourceLine" id="cb78-3" data-line-number="3"><span class="co">## California   New York </span></a>
<a class="sourceLine" id="cb78-4" data-line-number="4"><span class="co">##   39512223   19453561</span></a></code></pre></div></li>
</ul>
</div>
</div>
<div id="weekend-activities-25-minutes-shawn" class="section level3">
<h3><span class="header-section-number">1.5.3</span> Weekend activities (25 minutes; Shawn)</h3>
<div id="writing-r-scripts" class="section level4 unnumbered">
<h4>Writing <em>R</em> scripts</h4>
<p><em>R</em> scripts are convenient text files that we can use to save one or more lines of <em>R</em> syntax. Over the weekend you will get some experience working with <em>R</em> scripts. The example below will help you be a bit more prepared.</p>
<ul>
<li>In RStudio, click <code>File --&gt; New File --&gt; R Script</code> to create a new script file and open it in the editor.</li>
</ul>
<p>If you’ve followed the daily coding activities throughout the week, you should have some R code that keeps track of your daily activities.</p>
<ul>
<li><p>If so, enter that code into your <em>R</em> script now.</p></li>
<li>Otherwise, feel free to use the code below. Look for a <code>copy to clipboard</code> icon in the top-right of the code block. To copy the code block to your <em>R</em> script:
<ul>
<li>Click on the <code>copy to clipboard</code> icon</li>
<li>Place your cursor in your <em>R</em> script</li>
<li>Click <code>Edit --&gt; Paste</code>:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb79-2" data-line-number="2"><span class="co">## day 1 information </span></a>
<a class="sourceLine" id="cb79-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb79-4" data-line-number="4">day1_activity =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;breakfast&quot;</span>, </a>
<a class="sourceLine" id="cb79-5" data-line-number="5">                  <span class="st">&quot;check e-mail&quot;</span>, </a>
<a class="sourceLine" id="cb79-6" data-line-number="6">                  <span class="st">&quot;projects&quot;</span>,</a>
<a class="sourceLine" id="cb79-7" data-line-number="7">                  <span class="st">&quot;conference call&quot;</span>, </a>
<a class="sourceLine" id="cb79-8" data-line-number="8">                  <span class="st">&quot;teams meeting&quot;</span>, </a>
<a class="sourceLine" id="cb79-9" data-line-number="9">                  <span class="st">&quot;lunch&quot;</span>, </a>
<a class="sourceLine" id="cb79-10" data-line-number="10">                  <span class="st">&quot;conference call&quot;</span>, </a>
<a class="sourceLine" id="cb79-11" data-line-number="11">                  <span class="st">&quot;webinar&quot;</span>)</a>
<a class="sourceLine" id="cb79-12" data-line-number="12">day1_is_work =<span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb79-13" data-line-number="13">day1_minutes =<span class="st"> </span><span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">75</span>, <span class="dv">120</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">120</span>)</a>
<a class="sourceLine" id="cb79-14" data-line-number="14"></a>
<a class="sourceLine" id="cb79-15" data-line-number="15">n =<span class="st"> </span><span class="kw">length</span>(day1_activity)</a>
<a class="sourceLine" id="cb79-16" data-line-number="16">day1_total_hours =<span class="st"> </span><span class="kw">sum</span>(day1_minutes) <span class="op">/</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb79-17" data-line-number="17">day1_work_hours =<span class="st"> </span><span class="kw">sum</span>(day1_minutes[day1_is_work <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>]) <span class="op">/</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb79-18" data-line-number="18"></a>
<a class="sourceLine" id="cb79-19" data-line-number="19"><span class="kw">cat</span>(<span class="st">&quot;Total time recorded for day 1 : &quot;</span>, day1_total_hours,  </a>
<a class="sourceLine" id="cb79-20" data-line-number="20">    <span class="st">&quot;hours, over&quot;</span>, n, <span class="st">&quot;activities</span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb79-21" data-line-number="21"><span class="kw">cat</span>(<span class="st">&quot;Total time working  for day 1 : &quot;</span>, day1_work_hours, <span class="st">&quot;hours </span><span class="ch">\n\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<p>Recall the discussion of factors and levels in Day 3; the code below leverages this but adds another level named <code>independent work</code>.</p>
<ul>
<li><p>If you’ve already got code to assign factors and levels to your daily activity, enter that code into your <em>R</em> script now.</p></li>
<li><p>Otherwise, feel free to use the code below via the <code>copy to clipboard</code> procedure outlined above:</p></li>
</ul>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="co">## Kelly, Morgan, and Matott&#39;s classification strategy</span></a>
<a class="sourceLine" id="cb80-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb80-4" data-line-number="4">kmm_levels =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, </a>
<a class="sourceLine" id="cb80-5" data-line-number="5">              <span class="st">&quot;exercise&quot;</span>, </a>
<a class="sourceLine" id="cb80-6" data-line-number="6">              <span class="st">&quot;consult&quot;</span>, </a>
<a class="sourceLine" id="cb80-7" data-line-number="7">              <span class="st">&quot;hobby&quot;</span>, </a>
<a class="sourceLine" id="cb80-8" data-line-number="8">              <span class="st">&quot;essential&quot;</span>,</a>
<a class="sourceLine" id="cb80-9" data-line-number="9">              <span class="st">&quot;independent work&quot;</span>)</a>
<a class="sourceLine" id="cb80-10" data-line-number="10"><span class="co">## manually map day 1 activity to appropriate kmm_levels</span></a>
<a class="sourceLine" id="cb80-11" data-line-number="11">day1_classes =<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb80-12" data-line-number="12">    <span class="kw">c</span>(<span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;independent work&quot;</span>,</a>
<a class="sourceLine" id="cb80-13" data-line-number="13">      <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;connect&quot;</span>,  <span class="st">&quot;essential&quot;</span>, </a>
<a class="sourceLine" id="cb80-14" data-line-number="14">      <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>),</a>
<a class="sourceLine" id="cb80-15" data-line-number="15">    <span class="dt">levels =</span> kmm_levels</a>
<a class="sourceLine" id="cb80-16" data-line-number="16">)</a></code></pre></div>
<p>On day 3 you also got some experience working with dates. The code below stamps our day 1 activity data with an appropriately formatted date.</p>
<ul>
<li><p>If you’ve already got code to assign dates your daily activity, enter that code into your R script now.</p></li>
<li><p>Otherwise, feel free to use the code below via the <code>copy to clipboard</code> procedure outlined above:</p></li>
</ul>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb81-2" data-line-number="2"><span class="co">## Assign dates</span></a>
<a class="sourceLine" id="cb81-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb81-4" data-line-number="4">day1_dates =<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;04-13-2020&quot;</span>,<span class="kw">length</span>(day1_activity))</a>
<a class="sourceLine" id="cb81-5" data-line-number="5">day1_dates =<span class="st"> </span><span class="kw">as.Date</span>(day1_dates,<span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>)</a></code></pre></div>
</div>
<div id="optional-advanced-material" class="section level4 unnumbered">
<h4>[OPTIONAL ADVANCED MATERIAL]</h4>
<p>Earlier today Dr. Morgan touched on named vectors. We can leverage named vectors to create a more general mapping between activities and levels. The code for this is given below. Try it and compare the result to your manual mapping!</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="co">## kmm_map is a named vector that maps activities to categories</span></a>
<a class="sourceLine" id="cb82-2" data-line-number="2">kmm_map =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;breakfast&quot;</span>       =<span class="st"> &quot;essential&quot;</span>, </a>
<a class="sourceLine" id="cb82-3" data-line-number="3">            <span class="st">&quot;check e-mail&quot;</span>    =<span class="st"> &quot;connect&quot;</span>, </a>
<a class="sourceLine" id="cb82-4" data-line-number="4">            <span class="st">&quot;projects&quot;</span>        =<span class="st"> &quot;independent work&quot;</span>,</a>
<a class="sourceLine" id="cb82-5" data-line-number="5">            <span class="st">&quot;requests&quot;</span>        =<span class="st"> &quot;independent work&quot;</span>,</a>
<a class="sourceLine" id="cb82-6" data-line-number="6">            <span class="st">&quot;conference call&quot;</span> =<span class="st"> &quot;connect&quot;</span>,</a>
<a class="sourceLine" id="cb82-7" data-line-number="7">            <span class="st">&quot;teams meeting&quot;</span>   =<span class="st"> &quot;connect&quot;</span>, </a>
<a class="sourceLine" id="cb82-8" data-line-number="8">            <span class="st">&quot;lunch&quot;</span>           =<span class="st"> &quot;essential&quot;</span>, </a>
<a class="sourceLine" id="cb82-9" data-line-number="9">            <span class="st">&quot;webinar&quot;</span>         =<span class="st"> &quot;consult&quot;</span>,</a>
<a class="sourceLine" id="cb82-10" data-line-number="10">            <span class="st">&quot;walk&quot;</span>            =<span class="st"> &quot;exercise&quot;</span>)</a>
<a class="sourceLine" id="cb82-11" data-line-number="11">day1_classes =<span class="st"> </span><span class="kw">factor</span>(kmm_map[day1_activity], <span class="dt">levels =</span> kmm_levels)</a></code></pre></div>
</div>
<div id="saving-r-scripts" class="section level4 unnumbered">
<h4>Saving <em>R</em> scripts</h4>
<p>If you’ve been following along you should now have an <em>R</em> script that contains a bunch of code for keeping track of your daily activity log. Let’s save this file:</p>
<ul>
<li>In RStudio, place your cursor anywhere in the script file</li>
<li>click <code>File --&gt; Save</code> (or press <code>CTRL+S</code>)
<ul>
<li>Name your file something like <code>daily_activity.R</code>.</li>
</ul></li>
</ul>
</div>
<div id="running-r-scripts" class="section level4 unnumbered">
<h4>Running <em>R</em> scripts</h4>
<p>Now that we’ve created an <em>R</em> script you may be wondering “How do I run the code in the script?” There’s actually a few ways to do this:</p>
<p>Option #1 (Run)</p>
<ul>
<li><mark>Highlight</mark> the first block of the code (e.g the part where you recorded day 1 activity and maybe calculated amount of time worked).</li>
<li>Click the <code>--&gt; Run</code> icon in the top-right portion of the script editor window.
<ul>
<li>This will run the highlighted block of code. The output will appear in the RStudio console window along with an echo of the code itself.</li>
</ul></li>
</ul>
<p>Option #2 (Source)</p>
<ul>
<li>Click on the <code>--&gt; Source</code> icon just to the right of the <code>--&gt; Run</code> icon.</li>
<li>This will run the entire script.</li>
<li><p>Equivalent to entering into the console</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">source</span>(<span class="st">&quot;daily_activity.R&quot;</span>)</a></code></pre></div></li>
<li><p>Only the output generated by <code>print()</code> and <code>cat()</code> will appear in the RStudio console (i.e. the code in the script is not echoed to the console).</p></li>
</ul>
<p>Option #3 (Source with Echo)</p>
<ul>
<li>Click on the downward pointing arrowhead next to the source buton to open a dropdown menu</li>
<li>In the dropdown menu, sectect <code>Source with Echo</code></li>
<li>This will run the entire script and the code in the script will be echoed to the RStudio console along with any output generated by <code>print()</code> and <code>cat()</code>.</li>
<li>The echoed source and the normal output are not color-coded like they are when using the <code>--&gt; Run</code> button.</li>
<li><p>Equivalent to running</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1"><span class="kw">source</span>(<span class="st">&quot;daily_activity.R&quot;</span>, <span class="dt">echo =</span> <span class="ot">TRUE</span>, <span class="dt">max =</span> <span class="ot">Inf</span>)</a></code></pre></div></li>
</ul>
</div>
<div id="saving-data" class="section level4 unnumbered">
<h4>Saving data</h4>
<p>It can be useful to save objects created in an <em>R</em> script as a data file. These data files can be loaded or re-loaded into a new or existing <em>R</em> session.</p>
<p>For example, let’s suppose you had an <em>R</em> script that mined a trove of Twitter feeds for sentiment data related to government responses to COVID-19. Suppose you ran the script for serveral weeks and collected lot’s of valuable data into a bunch of vectors. Even though the <em>R</em> code is saved as a script file, the data that the script is collecting would be lost once script stops running. Furthermore, due to the temporal nature of Twitter feeds, you wouldn’t be able to collect the same data by simply re-running the script. Luckily, <em>R</em> provides several routines for saving and loading objects. Placing the appropriate code in your <em>R</em> script will ensure that your data is preserved even after the script stops running.</p>
</div>
<div id="saving-individual-r-objects" class="section level4 unnumbered">
<h4>Saving individual <em>R</em> objects</h4>
<p><em>R</em> supports storing a single <em>R</em> object as an <code>.rds</code> file. For example, the code below saves the <code>day1_activity</code> vector to an <code>.rds</code> file. The <code>saveRDS()</code> function is the workhorse in this case and the <code>setwd()</code>, <code>getwd()</code>, and <code>file.path()</code> commands allow us to conveniently specify a name and location for the data file:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="co">## creating .rds data files (for saving individual objects)</span></a>
<a class="sourceLine" id="cb85-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb85-4" data-line-number="4"><span class="kw">setwd</span>(<span class="st">&quot;C:/Matott/MyQuarantine&quot;</span>)</a>
<a class="sourceLine" id="cb85-5" data-line-number="5">my_rds_file =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">getwd</span>(), <span class="st">&quot;day1_activity.rds&quot;</span>)</a>
<a class="sourceLine" id="cb85-6" data-line-number="6">my_rds_file <span class="co"># print value -- sanity check</span></a>
<a class="sourceLine" id="cb85-7" data-line-number="7"><span class="kw">saveRDS</span>(day1_activity, my_rds_file)</a></code></pre></div>
</div>
<div id="loading-individual-r-objects" class="section level4 unnumbered">
<h4>Loading individual <em>R</em> objects</h4>
<p>The complement to the <code>saveRDS()</code> function is the <code>readRDS()</code> function. It loads the <em>R</em> object stored in the specified file. In the example below a data file is loaded and stored as an object named <code>day1_activity_loaded</code>. Compare this object to the existing <code>day1_activity</code> object - they should be the same!</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb86-2" data-line-number="2"><span class="co">## Reading .rds data files (for loading individual objects)</span></a>
<a class="sourceLine" id="cb86-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb86-4" data-line-number="4"><span class="kw">setwd</span>(<span class="st">&quot;C:/Matott/MyQuarantine&quot;</span>)</a>
<a class="sourceLine" id="cb86-5" data-line-number="5">my_rds_file =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">getwd</span>() ,<span class="st">&quot;day1_activity.rds&quot;</span>)</a>
<a class="sourceLine" id="cb86-6" data-line-number="6">my_rds_file</a>
<a class="sourceLine" id="cb86-7" data-line-number="7">day1_activity_loaded =<span class="st"> </span><span class="kw">readRDS</span>(my_rds_file) <span class="co"># now load from disk</span></a></code></pre></div>
</div>
<div id="saving-multiple-r-objects" class="section level4 unnumbered">
<h4>Saving multiple <em>R</em> objects</h4>
<p>The <code>save()</code> function will save one or more objects into a <code>.Rdata</code> file (these are also known as <code>session</code> files). The example below saves various <code>day1</code> and related factor-level objects to an <code>.Rdata</code> file.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb87-2" data-line-number="2"><span class="co">## creating .RData files (for saving multiple objects)</span></a>
<a class="sourceLine" id="cb87-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb87-4" data-line-number="4"><span class="kw">setwd</span>(<span class="st">&quot;C:/Matott/MyQuarantine&quot;</span>)</a>
<a class="sourceLine" id="cb87-5" data-line-number="5">my_rdata_file =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">getwd</span>(), <span class="st">&quot;day1.rdata&quot;</span>)</a>
<a class="sourceLine" id="cb87-6" data-line-number="6"><span class="kw">save</span>(kmm_levels, kmm_map,</a>
<a class="sourceLine" id="cb87-7" data-line-number="7">     day1_activity, day1_classes, day1_dates, day1_is_work, </a>
<a class="sourceLine" id="cb87-8" data-line-number="8">     day1_minutes, day1_total_hours, day1_work_hours, </a>
<a class="sourceLine" id="cb87-9" data-line-number="9">     <span class="dt">file =</span> my_rdata_file)</a></code></pre></div>
<p>If you have many objects that you want to save, listing them all can be tedious. Fortunately, the <code>ls()</code> command provides a list of <i>all</i> objects in the current <em>R</em> session. The results of <code>ls()</code> can be passed along to the <code>save()</code> command and this will result in all objects being saved. An example of the required syntax is given below.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="kw">setwd</span>(<span class="st">&quot;C:/Matott/MyQuarantine&quot;</span>)</a>
<a class="sourceLine" id="cb88-2" data-line-number="2">my_rdata_file =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">getwd</span>(), <span class="st">&quot;day1.rdata&quot;</span>)</a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="kw">save</span>(<span class="dt">list =</span> <span class="kw">ls</span>(), <span class="dt">file =</span> my_rdata_file)</a></code></pre></div>
</div>
<div id="loading-multiple-r-objects" class="section level4 unnumbered">
<h4>Loading multiple <em>R</em> objects</h4>
<p>The complement to the <code>save()</code> function is the <code>load()</code> function. This will load all objects stored in an <code>.Rdata</code> file into the current <em>R</em> session. Example syntax is given below:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb89-2" data-line-number="2"><span class="co">## Reading .RData files (for loading multiple objects)</span></a>
<a class="sourceLine" id="cb89-3" data-line-number="3"><span class="co">## ====================================================================</span></a>
<a class="sourceLine" id="cb89-4" data-line-number="4"><span class="kw">setwd</span>(<span class="st">&quot;C:/Matott/MyQuarantine&quot;</span>)</a>
<a class="sourceLine" id="cb89-5" data-line-number="5">my_rdata_file =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">getwd</span>(), <span class="st">&quot;daily_activity.rdata&quot;</span>)</a>
<a class="sourceLine" id="cb89-6" data-line-number="6"><span class="kw">load</span>(my_rdata_file) <span class="co"># reload</span></a></code></pre></div>
<p>It is also possible to load an <code>.Rdata</code> file using the RStudio interface.</p>
<ul>
<li>Click <code>Session --&gt; Load Workspace ...</code></li>
<li>A file browser dialog will open</li>
<li>Navigate to the .rdata file and select</li>
</ul>
</div>
<div id="wrapping-up-day-5" class="section level4 unnumbered">
<h4>Wrapping up day 5</h4>
<p>Today we reviewed the concepts that you worked with throughout the week during your independent activity. We also troubleshooted any problems or questions that may have come up during this time. Finally, we previewed the creation and use of <em>R</em> scripts and learned about saving and loading objects. Over the weekend you will gain some more experience with these topics.</p>
</div>
</div>
</div>
<div id="day-6-r-scripts" class="section level2">
<h2><span class="header-section-number">1.6</span> Day 6: <em>R</em> scripts</h2>
<p>Some of you may have already started saving your R commands as script files. As the material gets more complicated (and more interesting) everyone will want to start doing this. Here is an example to get you started:</p>
<ul>
<li>Recall that we can create a script file in RStudio, click “File –&gt; New File –&gt; R Script” to create a new script file and open it in the editor</li>
</ul>
<p><img src="images/rstudio_new_rscript_file.png" width="60%" style="display: block; margin: auto;" /></p>
<ul>
<li>By convention, R scripts have a .R exstension (e.g. my_script.R)
<ul>
<li>In RStudio, click into your untitled script and click “File –&gt; Save”</li>
<li>Name your file something fun like <code>my_first_script.R</code> and save it</li>
</ul></li>
<li>Use the <code>#</code> character for comments. Enter the following into your R Script file:</li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="co">## This is my first R script</span></a></code></pre></div>
<ul>
<li>Enter each command on a separate line. It’s also possible to enter multiple (short!) commands on a single line, separated by a semi-colon <code>;</code></li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1">x =<span class="st"> &quot;Hello world!&quot;</span></a>
<a class="sourceLine" id="cb91-2" data-line-number="2">y =<span class="st"> &#39;Today is&#39;</span>; d =<span class="st"> </span><span class="kw">format</span>(<span class="kw">Sys.Date</span>(), <span class="st">&quot;%b %d, %Y&quot;</span>)</a>
<a class="sourceLine" id="cb91-3" data-line-number="3"><span class="kw">cat</span>(x, y, d)</a></code></pre></div>
<ul>
<li>Use the “Run” button in RStudio to run the highlighted portion of an R script file. Try this on your simple R Script.</li>
</ul>
<p><img src="images/rstudio_run_button.png" width="80%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1">x =<span class="st"> &quot;Hello world!&quot;</span>; y =<span class="st"> &#39;Today is&#39;</span>; d =<span class="st"> </span><span class="kw">format</span>(<span class="kw">Sys.Date</span>(),<span class="st">&quot;%b %d, %Y&quot;</span>)</a>
<a class="sourceLine" id="cb92-2" data-line-number="2"><span class="kw">cat</span>(x, y, d, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb92-3" data-line-number="3"><span class="co">## Hello world! Today is Apr 30, 2020</span></a></code></pre></div>
<ul>
<li>Alternatively, use “Run –&gt; Run All” to run an entire script file.</li>
</ul>
<p>For today’s exercise, create a script file that summarizes your quarantine activities over several days. Use comments, white space (blank lines and spaces), and variable names to summarize each day. Here’s what I’ve got…</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="co">## &#39;classification&#39; factor levels</span></a>
<a class="sourceLine" id="cb93-2" data-line-number="2">levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;exercise&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>, <span class="st">&quot;essential&quot;</span>)</a>
<a class="sourceLine" id="cb93-3" data-line-number="3"></a>
<a class="sourceLine" id="cb93-4" data-line-number="4"><span class="co">## Quarantine log, day 1</span></a>
<a class="sourceLine" id="cb93-5" data-line-number="5"></a>
<a class="sourceLine" id="cb93-6" data-line-number="6">activity_day_<span class="dv">1</span> &lt;-</a>
<a class="sourceLine" id="cb93-7" data-line-number="7"><span class="st">    </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a>
<a class="sourceLine" id="cb93-8" data-line-number="8">minutes_day_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb93-9" data-line-number="9">is_work_day_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb93-10" data-line-number="10">classification_day_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb93-11" data-line-number="11">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;exercise&quot;</span>),</a>
<a class="sourceLine" id="cb93-12" data-line-number="12">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb93-13" data-line-number="13">)</a>
<a class="sourceLine" id="cb93-14" data-line-number="14">date_day_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="kw">length</span>(activity_day_<span class="dv">1</span>)), <span class="st">&quot;%m-%d-%Y&quot;</span>)</a>
<a class="sourceLine" id="cb93-15" data-line-number="15"></a>
<a class="sourceLine" id="cb93-16" data-line-number="16"><span class="co">## Quarantine log, day 2</span></a>
<a class="sourceLine" id="cb93-17" data-line-number="17"></a>
<a class="sourceLine" id="cb93-18" data-line-number="18">activity_day_<span class="dv">2</span> &lt;-</a>
<a class="sourceLine" id="cb93-19" data-line-number="19"><span class="st">    </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;read a book&quot;</span>)</a>
<a class="sourceLine" id="cb93-20" data-line-number="20">minutes_day_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb93-21" data-line-number="21">is_work_day_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb93-22" data-line-number="22">classification_day_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb93-23" data-line-number="23">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>),</a>
<a class="sourceLine" id="cb93-24" data-line-number="24">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb93-25" data-line-number="25">)</a>
<a class="sourceLine" id="cb93-26" data-line-number="26">date_day_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">rep</span>(<span class="st">&quot;04-15-2020&quot;</span>, <span class="kw">length</span>(activity_day_<span class="dv">2</span>)), <span class="st">&quot;%m-%d-%Y&quot;</span>)</a>
<a class="sourceLine" id="cb93-27" data-line-number="27"></a>
<a class="sourceLine" id="cb93-28" data-line-number="28"><span class="co">## Quarantine log, day 3</span></a>
<a class="sourceLine" id="cb93-29" data-line-number="29"></a>
<a class="sourceLine" id="cb93-30" data-line-number="30">activity_day_<span class="dv">3</span> &lt;-</a>
<a class="sourceLine" id="cb93-31" data-line-number="31"><span class="st">    </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;read a book&quot;</span>)</a>
<a class="sourceLine" id="cb93-32" data-line-number="32">minutes_day_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb93-33" data-line-number="33">is_work_day_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb93-34" data-line-number="34">classification_day_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb93-35" data-line-number="35">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>),</a>
<a class="sourceLine" id="cb93-36" data-line-number="36">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb93-37" data-line-number="37">)</a>
<a class="sourceLine" id="cb93-38" data-line-number="38">date_day_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">rep</span>(<span class="st">&quot;04-16-2020&quot;</span>, <span class="kw">length</span>(activity_day_<span class="dv">3</span>)), <span class="st">&quot;%m-%d-%Y&quot;</span>)</a></code></pre></div>
<p>Try <code>c</code>oncatenating these values, e.g.,</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">activity &lt;-<span class="st"> </span><span class="kw">c</span>(activity_day_<span class="dv">1</span>, activity_day_<span class="dv">2</span>, activity_day_<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb94-2" data-line-number="2">activity</a>
<a class="sourceLine" id="cb94-3" data-line-number="3"><span class="co">##  [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb94-4" data-line-number="4"><span class="co">##  [5] &quot;walk&quot;            &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot;</span></a>
<a class="sourceLine" id="cb94-5" data-line-number="5"><span class="co">##  [9] &quot;webinar&quot;         &quot;read a book&quot;     &quot;check e-mail&quot;    &quot;breakfast&quot;      </span></a>
<a class="sourceLine" id="cb94-6" data-line-number="6"><span class="co">## [13] &quot;webinar&quot;         &quot;read a book&quot;</span></a></code></pre></div>
<p>Save your script, quit <em>R</em> and <em>RStudio</em>, and restart <em>R</em>. Re-open and run the script to re-do your original work.</p>
<p>Think about how this makes your work <em>reproducible</em> from one day to the next, and how making your scientific work reproducible would be advantageous.</p>
</div>
<div id="day-7-saving-data" class="section level2">
<h2><span class="header-section-number">1.7</span> Day 7: Saving data</h2>
<p>We’ve defined these variables</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1">activity &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;check e-mail&quot;</span>, <span class="st">&quot;breakfast&quot;</span>, <span class="st">&quot;conference call&quot;</span>, <span class="st">&quot;webinar&quot;</span>, <span class="st">&quot;walk&quot;</span>)</a>
<a class="sourceLine" id="cb95-2" data-line-number="2">minutes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb95-3" data-line-number="3">is_work &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb95-4" data-line-number="4"></a>
<a class="sourceLine" id="cb95-5" data-line-number="5">levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;exercise&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;hobby&quot;</span>, <span class="st">&quot;essential&quot;</span>)</a>
<a class="sourceLine" id="cb95-6" data-line-number="6">classification &lt;-<span class="st"> </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb95-7" data-line-number="7">    <span class="kw">c</span>(<span class="st">&quot;connect&quot;</span>, <span class="st">&quot;essential&quot;</span>, <span class="st">&quot;connect&quot;</span>, <span class="st">&quot;consult&quot;</span>, <span class="st">&quot;exercise&quot;</span>),</a>
<a class="sourceLine" id="cb95-8" data-line-number="8">    <span class="dt">levels =</span> levels</a>
<a class="sourceLine" id="cb95-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb95-10" data-line-number="10"></a>
<a class="sourceLine" id="cb95-11" data-line-number="11">dates &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;04-14-2020&quot;</span>, <span class="kw">length</span>(activity))</a>
<a class="sourceLine" id="cb95-12" data-line-number="12">date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(dates, <span class="dt">format =</span> <span class="st">&quot;%m-%d-%Y&quot;</span>)</a></code></pre></div>
<p>Individual variables can be saved to a file.</p>
<ul>
<li><p>Define the <em>path</em> to the file. The file extension is, by convention, ‘.rds’. We’ll use a temporary location</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">temporary_file_path &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.rds&quot;</span>)</a></code></pre></div>
<p>…but we could have chosen the destination interactively</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">interactive_file_path &lt;-<span class="st"> </span><span class="kw">file.choose</span>(<span class="dt">new =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>…or provided path relative to the ‘current working directory’, or an absolute file path (use ‘/’ to specify paths on all operating systems, including Windows)</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1"><span class="kw">getwd</span>()</a>
<a class="sourceLine" id="cb98-2" data-line-number="2">relative_file_path &lt;-<span class="st"> &quot;my_activity.rds&quot;</span></a>
<a class="sourceLine" id="cb98-3" data-line-number="3">absolute_file_path_on_macOS &lt;-<span class="st"> &quot;/Users/ma38727/my_activity.rda&quot;</span></a></code></pre></div></li>
<li><p>use <code>saveRDS()</code> to save a single object to a file</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1"><span class="kw">saveRDS</span>(activity, temporary_file_path)</a></code></pre></div></li>
<li><p>use <code>readRDS()</code> to read the object back in</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">activity_from_disk &lt;-<span class="st"> </span><span class="kw">readRDS</span>(temporary_file_path)</a>
<a class="sourceLine" id="cb100-2" data-line-number="2">activity_from_disk</a>
<a class="sourceLine" id="cb100-3" data-line-number="3"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb100-4" data-line-number="4"><span class="co">## [5] &quot;walk&quot;</span></a></code></pre></div></li>
</ul>
<p>Use <code>save()</code> and <code>load()</code> to save and load several objects.</p>
<ul>
<li><p>Use <code>.RDaata</code> as the file extension.Usually we would NOT save to a temporary location, because the temporary location would be deleted when we ended our <em>R</em> session.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">temporary_file_path &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.RData&quot;</span>)</a>
<a class="sourceLine" id="cb101-2" data-line-number="2"><span class="kw">save</span>(activity, minutes, <span class="dt">file =</span> temporary_file_path)</a></code></pre></div></li>
<li><p>Remove the objects from the <em>R</em> session, and verify that they are absent</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="kw">rm</span>(activity, minutes)</a>
<a class="sourceLine" id="cb102-2" data-line-number="2"><span class="kw">try</span>(activity) <span class="co"># fails -- object not present</span></a>
<a class="sourceLine" id="cb102-3" data-line-number="3"><span class="co">## Error in try(activity) : object &#39;activity&#39; not found</span></a></code></pre></div></li>
<li><p>Load the saved objects</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1"><span class="kw">load</span>(temporary_file_path)</a>
<a class="sourceLine" id="cb103-2" data-line-number="2">activity</a>
<a class="sourceLine" id="cb103-3" data-line-number="3"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb103-4" data-line-number="4"><span class="co">## [5] &quot;walk&quot;</span></a></code></pre></div></li>
</ul>
<p>As an exercise…</p>
<ul>
<li><p>Chose a location to save your data, e.g., in the current working direcotry</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1"><span class="kw">getwd</span>()    <span class="co"># Where the heck are we?</span></a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="co">## [1] &quot;/Users/ma38727/a/github/QuaRantine&quot;</span></a>
<a class="sourceLine" id="cb104-3" data-line-number="3">my_file_path &lt;-<span class="st"> &quot;my_quaRantine.RData&quot;</span></a></code></pre></div></li>
<li><p>Save the data</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1"><span class="kw">save</span>(activity, minutes, is_work, classification, date, <span class="dt">file =</span> my_file_path)</a></code></pre></div></li>
<li><p>Now the moment of truth. Quit <em>R</em> without saving your workspace</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="kw">quit</span>(<span class="dt">save =</span> <span class="ot">FALSE</span>)</a></code></pre></div></li>
<li><p>Start a new session of <em>R</em>, and verify that your objects are not present</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1"><span class="kw">ls</span>() <span class="co"># list objects available in the &#39;.GlobalEnv&#39; -- there should be none</span></a>
<a class="sourceLine" id="cb107-2" data-line-number="2"><span class="co">## character(0)</span></a>
<a class="sourceLine" id="cb107-3" data-line-number="3"><span class="kw">try</span>(activity) <span class="co"># nope, not there...</span></a>
<a class="sourceLine" id="cb107-4" data-line-number="4"><span class="co">## Error in try(activity) : object &#39;activity&#39; not found</span></a></code></pre></div></li>
<li><p>Create a path to the saved data file</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">my_file_path &lt;-<span class="st"> &quot;my_quaRantine.RData&quot;</span></a></code></pre></div></li>
<li><p>Load the data and verify that it is correct</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1"><span class="kw">load</span>(my_file_path)</a>
<a class="sourceLine" id="cb109-2" data-line-number="2">activity</a>
<a class="sourceLine" id="cb109-3" data-line-number="3"><span class="co">## [1] &quot;check e-mail&quot;    &quot;breakfast&quot;       &quot;conference call&quot; &quot;webinar&quot;        </span></a>
<a class="sourceLine" id="cb109-4" data-line-number="4"><span class="co">## [5] &quot;walk&quot;</span></a>
<a class="sourceLine" id="cb109-5" data-line-number="5">minutes</a>
<a class="sourceLine" id="cb109-6" data-line-number="6"><span class="co">## [1] 20 30 60 60 60</span></a>
<a class="sourceLine" id="cb109-7" data-line-number="7">is_work</a>
<a class="sourceLine" id="cb109-8" data-line-number="8"><span class="co">## [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb109-9" data-line-number="9">date</a>
<a class="sourceLine" id="cb109-10" data-line-number="10"><span class="co">## [1] &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot; &quot;2020-04-14&quot;</span></a>
<a class="sourceLine" id="cb109-11" data-line-number="11">classification</a>
<a class="sourceLine" id="cb109-12" data-line-number="12"><span class="co">## [1] connect   essential connect   consult   exercise </span></a>
<a class="sourceLine" id="cb109-13" data-line-number="13"><span class="co">## Levels: connect exercise consult hobby essential</span></a></code></pre></div></li>
</ul>
<p>See you in zoom on Monday!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="two.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QuaRantine.pdf", "QuaRantine.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
